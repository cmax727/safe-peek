{% extends "base.html" %}
{% load assignment_tags %}

{% block title %}Detail Assignment{% endblock %}

{% block content %}

<h1>{{assignment.name}}</h1>
<hr>
<a href="{{assignment.attachment.url}}">{{assignment.attachment.name}}</a>
<p>
{{assignment.description|safe}}
</p>
{% if not user == assignment.course.professor %}
    {{ user|already_submit:assignment|safe }}
    {% if not user|already_submit:assignment %}
    <b>Submit Assignment</b>
    <form action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{form.as_p}}
    <button type="submit" class="btn btn-primary">Upload file</button>
    </form>

    {% endif %}

{% endif %}
{% ifequal user assignment.course.professor %}
<hr>
<h1>Members</h1>
{% for member in members %}
        {% if member.user|already_submit:assignment %}
            <a href="{{ member.user.username }}"><p>{{member.user.display_name }}</p></a>
        {% else %}
            <p>{{member.user.display_name }}</p>
        {% endif %}
    
{% endfor %}
{% endifequal %}
{% endblock %}